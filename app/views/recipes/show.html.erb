<div class="detail-box">
  <div class="detail-header">
    <h1 style="color: #667eea; font-size: 2.2em; margin-bottom: 15px;"><%= @recipe.title %></h1>
    
    <div style="margin-bottom: 20px;">
      <span class="badge badge-category"><%= @recipe.category.name %></span>
      <% if @recipe.difficulty == '簡単' %>
        <span class="badge badge-easy">簡単</span>
      <% elsif @recipe.difficulty == '普通' %>
        <span class="badge badge-medium">普通</span>
      <% elsif @recipe.difficulty == '難しい' %>
        <span class="badge badge-hard">難しい</span>
      <% end %>
    </div>
    
    <div class="recipe-meta" style="font-size: 1.1em;">
      <span>⏱️ 調理時間: <%= @recipe.cooking_time %>分</span>
      <span>🍽️ 分量: <%= @recipe.servings %>人分</span>
    </div>
  </div>
  
  <% if @recipe.image_url.present? %>
    <img src="<%= @recipe.image_url %>" alt="<%= @recipe.title %>" class="detail-image">
  <% end %>
  
  <div class="detail-section">
    <h3>📝 説明</h3>
    <p style="line-height: 1.8; color: #555;"><%= @recipe.description %></p>
  </div>
  
  <div class="detail-section">
    <h3>🥘 材料</h3>
    <div class="ingredients-list"><%= @recipe.ingredients %></div>
  </div>
  
  <div class="detail-section">
    <h3>👨‍🍳 作り方</h3>
    <div class="instructions-list"><%= @recipe.instructions %></div>
  </div>
  
  <div style="margin-top: 30px; display: flex; gap: 10px; flex-wrap: wrap;">
    <%= link_to '編集', edit_recipe_path(@recipe), class: 'btn' %>
    <%= link_to '削除', recipe_path(@recipe), 
        data: { turbo_method: :delete, turbo_confirm: '本当に削除しますか？' }, 
        class: 'btn btn-danger' %>
    <%= link_to '一覧に戻る', recipes_path, class: 'btn btn-secondary' %>
  </div>
</div>

<% if @related_recipes.any? %>
  <div class="detail-box">
    <h2 style="color: #667eea; margin-bottom: 20px;">関連レシピ</h2>
    <div class="recipe-grid">
      <% @related_recipes.each do |recipe| %>
        <div class="recipe-card">
          <% if recipe.image_url.present? %>
            <img src="<%= recipe.image_url %>" alt="<%= recipe.title %>" class="recipe-image">
          <% else %>
            <div class="recipe-image"></div>
          <% end %>
          
          <div class="recipe-content">
            <h3 class="recipe-title"><%= recipe.title %></h3>
            <p class="recipe-description"><%= truncate(recipe.description, length: 60) %></p>
            <%= link_to '詳細を見る', recipe_path(recipe), class: 'btn' %>
          </div>
        </div>
      <% end %>
    </div>
  </div>
<% end %>